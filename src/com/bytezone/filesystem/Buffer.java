package com.bytezone.filesystem;

import com.bytezone.utility.Utility;

// -----------------------------------------------------------------------------------//
public record Buffer (byte[] data, int offset, int length)
// -----------------------------------------------------------------------------------//
{
  // ---------------------------------------------------------------------------------//
  public int max ()
  // ---------------------------------------------------------------------------------//
  {
    return offset + length;
  }

  // ---------------------------------------------------------------------------------//
  public boolean equals (Buffer other)
  // ---------------------------------------------------------------------------------//
  {
    return data == other.data && offset == other.offset && length == other.length;
  }

  // ---------------------------------------------------------------------------------//
  public byte[] copyData ()
  // ---------------------------------------------------------------------------------//
  {
    byte[] newData = new byte[length];
    System.arraycopy (data, offset, newData, 0, length);

    return newData;
  }

  // ---------------------------------------------------------------------------------//
  public Buffer copyBuffer ()
  // ---------------------------------------------------------------------------------//
  {
    return new Buffer (copyData (), 0, length);
  }

  // ---------------------------------------------------------------------------------//
  @Override
  public String toString ()
  // ---------------------------------------------------------------------------------//
  {
    return Utility.format (data, offset, length, true, offset);
  }
}
